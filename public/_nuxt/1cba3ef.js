(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{663:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return w}));var o,r,c,l,d=n(93),h=n(62),m=Object(h.a)(o||(o=Object(d.a)(["\n  query {\n    whereHouses {\n      id\n      name\n      address\n      capacity\n      description\n    }   \n  }\n"]))),v=Object(h.a)(r||(r=Object(d.a)(["\n  mutation ($input: WhereHouseCreateInput!) {\n    createWhereHouse(input: $input) {\n      id\n    }\n  }\n"]))),f=Object(h.a)(c||(c=Object(d.a)(["\n  mutation ($input: WhereHouseUpdateInput!) {\n    updateWhereHouse(input: $input) {\n      id\n    }\n  }\n"]))),w=Object(h.a)(l||(l=Object(d.a)(["\n  mutation($id: ID!) {\n    deleteWhereHouse(id: $id) {\n      id\n    }\n  }\n"])))},756:function(e,t,n){"use strict";n.r(t);var o=n(279),r=n(232),c=n(650),l=n(274),d=n(651),h=n(194),m=n(652),v=n(613),f=n(125),w=n(812),_=(n(38),n(13),n(88),n(12),n(10),n(5),n(15),n(9),n(16),n(1)),H=n(108),y=n(291),O=n(14),j=n(20),C=n(663);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function $(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(_.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var W={props:["_whereHouse"],middleware:["authenticated"],data:function(){return{valid:!1,editMode:!1,whereHouse:{},nameRules:[function(e){return!!e||"Address field is required"}],element_permissions:{edit_btn:[{resource:O.a.WHERE_HOUSE,action:j.a.UPDATE}]},submitting:!1}},computed:{disableForm:function(){var e;return!this.editMode&&null!=(null===(e=this._whereHouse)||void 0===e?void 0:e.id)}},methods:$($({},Object(H.b)({successNotification:"successNotification",errorNotification:"errorNotification",infoNotification:"infoNotification"})),{},{can:function(e){return Object(y.a)(this.$auth.user,e)},onFormSubmitted:function(e){this.submitting=!0,this.$refs.form.validate()&&(this.editMode?this.updateWhereHouse(e):this.registerWhereHouse(e))},registerWhereHouse:function(e){var t=this;this.$apollo.mutate({mutation:C.b,variables:{input:this.whereHouse}}).then((function(n){n.data;t.successNotification("Warehouse registered successfully!"),e.target.reset(),t.$emit("on-close-where-house-form"),t.submitting=!1})).catch((function(e){console.log(e),t.submitting=!1}))},updateWhereHouse:function(e){var t=this;this.whereHouse.id=parseInt(this._whereHouse.id),delete this.whereHouse.__typename,this.$apollo.mutate({mutation:C.d,variables:{input:this.whereHouse}}).then((function(n){n.data;t.successNotification("Warehouse updated successfully!"),e.target.reset(),t.$emit("on-close-where-house-form"),t.submitting=!1})).catch((function(e){console.log(e)}))}}),watch:{$props:{handler:function(){var e;null!==(e=this._whereHouse)&&void 0!==e&&e.id?(this.editMode=!1,this.whereHouse=$({},this._whereHouse)):(this.editMode=!1,this.whereHouse={})},deep:!0,immediate:!0}}},k=n(50),component=Object(k.a)(W,(function(){var e=this,t=e._self._c;return t(o.a,[t("div",{staticClass:"blue lighten-1 white--text pa-2 pb-6"},[t(m.a,{staticClass:"mx-0"},[t("div",[t(r.c,{staticClass:"text-h5 pb-0"},[e._v("\n          Warehouse Registration Form\n        ")]),e._v(" "),t("span",{staticClass:"ml-4"},[e._v("registration form")])],1),e._v(" "),t(v.a),e._v(" "),e.disableForm&&e.can(e.element_permissions.edit_btn)?t("button",{staticClass:"v-btn ma-5 mt-6 v-btn--is-elevated v-btn--has-bg theme--light pl-1 black v-size--default white--text",attrs:{icon:"mdi-pen"},on:{click:function(t){e.editMode=!0}}},[t(h.a,{attrs:{right:"",dark:"",medium:""}},[e._v(" mdi-pen ")]),e._v(" "),t("span",{staticClass:"v-btn__content text-white ml-1"},[e._v(" Edit ")])],1):e._e()],1)],1),e._v(" "),t(d.a,{ref:"form",staticClass:"mt-4 p-4",attrs:{disabled:e.disableForm},on:{submit:function(t){return t.preventDefault(),e.onFormSubmitted.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("div",{staticClass:"mx-5"},[t(m.a,{staticClass:"px-3"},[t(c.a,{attrs:{cols:"12",md:"6"}},[t(f.a,{staticClass:"py-0",attrs:{label:"Name",outlined:"",required:"",rules:e.nameRules},model:{value:e.whereHouse.name,callback:function(t){e.$set(e.whereHouse,"name",t)},expression:"whereHouse.name"}})],1),e._v(" "),t(c.a,{attrs:{cols:"12",md:"6"}},[t(f.a,{staticClass:"py-0",attrs:{label:"Capacity",outlined:"",required:""},model:{value:e.whereHouse.capacity,callback:function(t){e.$set(e.whereHouse,"capacity",t)},expression:"whereHouse.capacity"}})],1),e._v(" "),t(c.a,{attrs:{cols:"12",md:"12"}},[t(f.a,{staticClass:"py-0",attrs:{label:"Address",outlined:"",required:""},model:{value:e.whereHouse.address,callback:function(t){e.$set(e.whereHouse,"address",t)},expression:"whereHouse.address"}})],1),e._v(" "),t(c.a,{attrs:{cols:"12",md:"12"}},[t(w.a,{attrs:{label:"Description",outlined:"",required:""},model:{value:e.whereHouse.description,callback:function(t){e.$set(e.whereHouse,"description",t)},expression:"whereHouse.description"}})],1)],1)],1),e._v(" "),t(l.a,{staticClass:"my-2"}),e._v(" "),t(c.a,{staticClass:"d-flex"},[t("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default grey lighten-3",attrs:{type:"button"},on:{click:function(t){return e.$emit("on-close-where-house-form")}}},[t("span",{staticClass:"v-btn__content text-white"},[e._v(" Cancel ")])]),e._v(" "),t(v.a),e._v(" "),e.editMode||e.disableForm?e._e():t("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default white--text",staticStyle:{background:"#262b40"},attrs:{type:"submit",loading:e.submitting}},[t("span",{staticClass:"v-btn__content text-white"},[e._v(" Add Warehouse ")])]),e._v(" "),e.editMode&&!e.disableForm?t("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default white--text",staticStyle:{background:"#262b40"},attrs:{type:"submit",loading:e.submitting}},[t("span",{staticClass:"v-btn__content text-white"},[e._v(" Update Warehouse ")])]):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);