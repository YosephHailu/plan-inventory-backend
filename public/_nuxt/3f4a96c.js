(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{650:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"c",(function(){return x}));var c,o,r,l,d=n(92),_=n(61),v=Object(_.a)(c||(c=Object(d.a)(["\n  query {\n    staffs {\n      id\n      name\n      role\n    }   \n  }\n"]))),h=Object(_.a)(o||(o=Object(d.a)(["\n  mutation ($input: StaffCreateInput!) {\n    createStaff(input: $input) {\n      id\n    }\n  }\n"]))),m=Object(_.a)(r||(r=Object(d.a)(["\n  mutation ($input: StaffUpdateInput!) {\n    updateStaff(input: $input) {\n      id\n    }\n  }\n"]))),x=Object(_.a)(l||(l=Object(d.a)(["\n  mutation($id: ID!) {\n    deleteStaff(id: $id) {\n      id\n    }\n  }\n"])))},654:function(t,e,n){"use strict";n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return y})),n.d(e,"e",(function(){return C})),n.d(e,"d",(function(){return w})),n.d(e,"f",(function(){return S}));var c,o,r,l,d,_,v,h=n(92),m=n(61),x=Object(m.a)(c||(c=Object(h.a)(["\n  query($page: Int!, $per_page: Int!, $search: String, $donor_id: ID, $acquisition_type_id: ID, $program_area_id: ID, \n    $staff_id: ID, $condition_id: ID, $available: Boolean, $disposed: Boolean, $project_id: ID) {\n    assets(first: $per_page, page: $page, search: $search, donor_id: $donor_id, staff: $staff_id, available: $available, disposed: $disposed,\n      acquisition_type_id: $acquisition_type_id, program_area_id: $program_area_id, condition: $condition_id, project_id: $project_id) {\n      data {\n        id\n        tag_number\n        asset_type\n        item_name\n        acquisition_date\n        serial_no\n        description\n        accessories\n        acquisition_cost\n        purchase_order_no\n        gsrn_no\n        receipt_date\n        depreciation_date\n        po_no\n        cost_center\n        document_no\n        disposed\n        assetCustodians {\n          id\n          returned\n          staff {\n            id\n            name\n          }\n        }\n        currency {\n          id\n          code\n          name\n        }\n        assetDisposal {\n          id\n          date\n          transfer_to\n          accumulated_depreciation\n          replacement_cost\n          remark\n          currency {\n            id\n            code\n          }\n          disposalType {\n            id\n            name\n          }\n          disposalReason {\n            id\n            name\n          }\n        }\n        acquisitionType {\n          id\n          name\n        }\n        programArea {\n          id\n          name\n        }\n        project {\n          id\n          name\n        } \n        donor {\n          id\n          name\n        } \n        currency {\n          id\n          code\n        }\n        costCenter {\n          id\n          name\n        }\n      }\n      paginatorInfo {\n        count\n        currentPage\n        total\n        lastPage\n        perPage\n      }\n    }   \n  }\n"]))),f=Object(m.a)(o||(o=Object(h.a)(["\n  query All_ASSET_LOOKUP_QUERY {\n    currencies {\n      id\n      name\n    }    \n    projects {\n      id\n      name\n    }  \n    donors {\n      id\n      name\n    }  \n    acquisitionTypes {\n      id\n      name\n    }   \n    programAreas {\n      id\n      name\n      four_digit_code\n    }\n    costCenters {\n      id\n      name\n    }  \n  }\n"]))),y=Object(m.a)(r||(r=Object(h.a)(["\n  query All_ASSET_LOOKUP_QUERY {\n    staffs {\n      id\n      name\n    }   \n    donors {\n      id\n      name\n    }  \n    acquisitionTypes {\n      id\n      name\n    }   \n    conditions {\n      id\n      name\n    }   \n    programAreas {\n      id\n      name\n      four_digit_code\n    }\n  }\n"]))),C=Object(m.a)(l||(l=Object(h.a)(["\n  query FIND_ASSET_QUERY($id: ID!) {\n    asset(id: $id) {\n      id\n      tag_number\n      asset_type\n      item_name\n      acquisition_date\n      serial_no\n      description\n      accessories\n      acquisition_cost\n      purchase_order_no\n      gsrn_no\n      receipt_date\n      depreciation_date\n      po_no\n      cost_center\n      document_no\n      disposed\n      available\n      assetPhysicalCheck {\n        id\n        created_at\n        checked_at\n        remark\n        condition {\n          id\n          name\n        }\n        checkedBy {\n          id\n          name\n        }\n      }\n      assetPhysicalChecks {\n        id\n        created_at\n        checked_at\n        remark\n        condition {\n          id\n          name\n        }\n        checkedBy {\n          id\n          name\n        }\n      }\n      assetCustodians {\n        id\n        remark\n        assigned_at\n        returned\n        approved\n        assignedBy {\n          id\n          name\n        }\n        staff {\n          id\n          name\n        }\n      }\n      assetCustodian {\n        id\n        staff {\n          id\n          name\n        }\n      }\n      currency {\n        id\n        name\n        code\n      }\n      acquisitionType {\n        id\n        name\n      }\n      programArea {\n        id\n        name\n      }\n      donor {\n        id\n        name\n      }\n      costCenter {\n        id\n        name\n      }\n    }   \n  }\n"]))),w=Object(m.a)(d||(d=Object(h.a)(["\n  mutation ($input: AssetCreateInput!) {\n    createAsset(input: $input) {\n      id\n    }\n  }\n"]))),S=Object(m.a)(_||(_=Object(h.a)(["\n  mutation ($input: AssetUpdateInput!) {\n    updateAsset(input: $input) {\n      id\n    }\n  }\n"])));Object(m.a)(v||(v=Object(h.a)(["\n  mutation($id: ID!) {\n    deleteAsset(id: $id) {\n      id\n    }\n  }\n"])))},655:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"d",(function(){return x})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return y}));var c,o,r,l,d,_,v=n(92),h=n(61),m=(Object(h.a)(c||(c=Object(v.a)(["\n  query {\n    assetCustodians {\n      id\n    }   \n  }\n"]))),Object(h.a)(o||(o=Object(v.a)(["\n  mutation ($input: AssetCustodianCreateInput!) {\n    createAssetCustodian(input: $input) {\n      id\n    }\n  }\n"])))),x=Object(h.a)(r||(r=Object(v.a)(["\n  mutation ($input: AssetCustodianUpdateInput!) {\n    updateAssetCustodian(input: $input) {\n      id\n    }\n  }\n"]))),f=(Object(h.a)(l||(l=Object(v.a)(["\n  mutation($id: ID!) {\n    deleteAssetCustodian(id: $id) {\n      id\n    }\n  }\n"]))),Object(h.a)(d||(d=Object(v.a)(["\n  mutation($id: ID!) {\n    returnAsset(id: $id) {\n      id\n    }\n  }\n"])))),y=Object(h.a)(_||(_=Object(v.a)(["\n  mutation($id: ID!) {\n    approveAssetCustodian(id: $id) {\n      id\n    }\n  }\n"])))},662:function(t,e,n){"use strict";n.r(e);var c,o,r,l,d,_=n(653),v=n(276),h=n(231),m=n(695),x=n(273),f=n(696),y=n(194),C=n(786),w=n(609),S=n(124),D=n(624),k=(n(13),n(14),n(12),n(6),n(16),n(10),n(17),n(1)),O=(n(71),n(106)),A=n(288),j=n(15),$=n(21),P=n(92),I=n(61),T=(Object(I.a)(c||(c=Object(P.a)(["\n  query {\n    assetDisposals {\n      id\n      name\n      description\n    }   \n  }\n"]))),Object(I.a)(o||(o=Object(P.a)(["\n  query All_DISPOSAL_LOOKUP_QUERY {\n    disposalReasons {\n      id\n      name\n    }   \n    disposalTypes {\n      id\n      name\n    }\n    currencies {\n      id\n      name\n    }\n  }\n"])))),R=Object(I.a)(r||(r=Object(P.a)(["\n  mutation ($input: AssetDisposalCreateInput!) {\n    createAssetDisposal(input: $input) {\n      id\n    }\n  }\n"]))),N=Object(I.a)(l||(l=Object(P.a)(["\n  mutation ($input: AssetDisposalUpdateInput!) {\n    updateAssetDisposal(input: $input) {\n      id\n    }\n  }\n"])));Object(I.a)(d||(d=Object(P.a)(["\n  mutation($id: ID!) {\n    deleteAssetDisposal(id: $id) {\n      id\n    }\n  }\n"])));function E(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function F(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(e){Object(k.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var U={props:["_AssetDisposal","asset"],middleware:["authenticated"],data:function(){return{valid:!1,editMode:!1,assetDisposal:{},fieldRequiredRule:[function(t){return!!t||"This field is required"}],element_permissions:{edit_btn:[{resource:j.a.ASSET_DISPOSAL,action:$.a.UPDATE}]},disposalTypes:[],disposalReasons:[],currencies:[]}},apollo:{lookup:{query:T,fetchPolicy:"cache-and-network",update:function(data){return data}}},computed:{disableForm:function(){var t;return!this.editMode&&null!=(null===(t=this._AssetDisposal)||void 0===t?void 0:t.id)}},methods:F(F({},Object(O.b)({successNotification:"successNotification",errorNotification:"errorNotification",infoNotification:"infoNotification"})),{},{can:function(t){return Object(A.a)(this.$auth.user,t)},onFormSubmitted:function(t){this.$refs.form.validate()&&(this.editMode?this.updateAssetDisposal(t):this.registerAssetDisposal(t))},registerAssetDisposal:function(t){var e=this;this.assetDisposal.asset_id=this.asset.id,this.$apollo.mutate({mutation:R,variables:{input:this.assetDisposal}}).then((function(n){n.data;e.successNotification("Disposal type registered successfully!"),t.target.reset(),e.$emit("on-close-asset-disposal-form")})).catch((function(t){console.log(t)}))},updateAssetDisposal:function(t){var e=this;this.assetDisposal.id=parseInt(this.assetDisposal.id),this.$apollo.mutate({mutation:N,variables:{input:this.assetDisposal}}).then((function(n){n.data;e.successNotification("Disposal type updated successfully!"),t.target.reset(),e.$emit("on-close-asset-disposal-form")})).catch((function(t){console.log(t)}))}}),watch:{$props:{handler:function(){var t;null!==(t=this._AssetDisposal)&&void 0!==t&&t.id?(this.editMode=!1,this.assetDisposal=F({},this._AssetDisposal)):(this.editMode=!1,this.assetDisposal={})},deep:!0,immediate:!0},lookup:{handler:function(){var t,e,n;this.lookup&&(console.log(this.lookup),this.disposalReasons=null===(t=this.lookup)||void 0===t||null===(t=t.disposalReasons)||void 0===t?void 0:t.map((function(t){return t.id=parseInt(t.id),t})),this.disposalTypes=null===(e=this.lookup)||void 0===e||null===(e=e.disposalTypes)||void 0===e?void 0:e.map((function(t){return t.id=parseInt(t.id),t})),this.currencies=null===(n=this.lookup)||void 0===n||null===(n=n.currencies)||void 0===n?void 0:n.map((function(t){return t.id=parseInt(t.id),t})))}}}},M=n(60),component=Object(M.a)(U,(function(){var t=this,e=t._self._c;return e(v.a,[e("div",{staticClass:"blue lighten-1 white--text pa-2 pb-6"},[e(C.a,{staticClass:"mx-0"},[e("div",[e(h.c,{staticClass:"text-h5 pb-0"},[t._v("\n          Asset Disposal Registration Form\n        ")]),t._v(" "),e("span",{staticClass:"ml-4"},[t._v("registration form")])],1),t._v(" "),e(w.a),t._v(" "),t.disableForm&&t.can(t.element_permissions.edit_btn)?e("button",{staticClass:"v-btn ma-5 mt-6 v-btn--is-elevated v-btn--has-bg theme--light pl-1 black v-size--default white--text",attrs:{icon:"mdi-pen"},on:{click:function(e){t.editMode=!0}}},[e(y.a,{attrs:{right:"",dark:"",medium:""}},[t._v(" mdi-pen ")]),t._v(" "),e("span",{staticClass:"v-btn__content text-white ml-1"},[t._v(" Edit ")])],1):t._e()],1)],1),t._v(" "),e(f.a,{ref:"form",staticClass:"mt-4 pa-4",attrs:{disabled:t.disableForm},on:{submit:function(e){return e.preventDefault(),t.onFormSubmitted.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("div",{staticClass:"mx-5"},[e(C.a,{staticClass:"px-3"},[e(m.a,{attrs:{cols:"12",md:"6"}},[e(S.a,{attrs:{label:"Date of Disposal",type:"date",outlined:"",required:"",rules:t.fieldRequiredRule},model:{value:t.assetDisposal.date,callback:function(e){t.$set(t.assetDisposal,"date",e)},expression:"assetDisposal.date"}})],1),t._v(" "),e(m.a,{attrs:{cols:"12",md:"6"}},[e(_.a,{attrs:{items:t.disposalReasons,"item-value":"id","item-text":"name",label:"Select Disposal Reason *",outlined:"",required:"",rules:t.fieldRequiredRule},model:{value:t.assetDisposal.disposal_reason_id,callback:function(e){t.$set(t.assetDisposal,"disposal_reason_id",t._n(e))},expression:"assetDisposal.disposal_reason_id"}})],1),t._v(" "),e(m.a,{attrs:{cols:"12",md:"8"}},[e(S.a,{attrs:{label:"Transfer To",outlined:"",required:"",rules:t.fieldRequiredRule},model:{value:t.assetDisposal.transfer_to,callback:function(e){t.$set(t.assetDisposal,"transfer_to",e)},expression:"assetDisposal.transfer_to"}})],1),t._v(" "),e(m.a,{attrs:{cols:"12",md:"4"}},[e(_.a,{attrs:{items:t.disposalTypes,"item-value":"id","item-text":"name",label:"Select Disposal Type *",outlined:"",required:"",rules:t.fieldRequiredRule},model:{value:t.assetDisposal.disposal_type_id,callback:function(e){t.$set(t.assetDisposal,"disposal_type_id",t._n(e))},expression:"assetDisposal.disposal_type_id"}})],1),t._v(" "),e(m.a,{attrs:{cols:"12",md:"4"}},[e(S.a,{attrs:{label:"Accumulated Depreciation (for Capital Assets ONLY)",outlined:"",required:"",rules:t.fieldRequiredRule},model:{value:t.assetDisposal.accumulated_depreciation,callback:function(e){t.$set(t.assetDisposal,"accumulated_depreciation",e)},expression:"assetDisposal.accumulated_depreciation"}})],1),t._v(" "),e(m.a,{attrs:{cols:"12",md:"4"}},[e(S.a,{attrs:{label:"Net book Value/ Replacement Cost",outlined:"",required:"",rules:t.fieldRequiredRule},model:{value:t.assetDisposal.replacement_cost,callback:function(e){t.$set(t.assetDisposal,"replacement_cost",e)},expression:"assetDisposal.replacement_cost"}})],1),t._v(" "),e(m.a,{attrs:{cols:"12",md:"4"}},[e(_.a,{attrs:{items:t.currencies,"item-value":"id","item-text":"name",label:"Select Currency *",outlined:"",required:"",rules:t.fieldRequiredRule},model:{value:t.assetDisposal.currency_id,callback:function(e){t.$set(t.assetDisposal,"currency_id",t._n(e))},expression:"assetDisposal.currency_id"}})],1),t._v(" "),e(m.a,{attrs:{cols:"12",md:"12"}},[e(D.a,{attrs:{label:"Description",outlined:"",required:""},model:{value:t.assetDisposal.remark,callback:function(e){t.$set(t.assetDisposal,"remark",e)},expression:"assetDisposal.remark"}})],1)],1)],1),t._v(" "),e(x.a,{staticClass:"my-2"}),t._v(" "),e(m.a,{staticClass:"d-flex"},[e("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default grey lighten-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("on-close-asset-disposal-form")}}},[e("span",{staticClass:"v-btn__content text-white"},[t._v(" Cancel ")])]),t._v(" "),e(w.a),t._v(" "),t.editMode||t.disableForm?t._e():e("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default white--text",staticStyle:{background:"#262b40"},attrs:{type:"submit"}},[e("span",{staticClass:"v-btn__content text-white"},[t._v(" Add Disposal Reason ")])]),t._v(" "),t.editMode&&!t.disableForm?e("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default white--text",staticStyle:{background:"#262b40"},attrs:{type:"submit"}},[e("span",{staticClass:"v-btn__content text-white"},[t._v("\n          Update Disposal Reason\n        ")])]):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},663:function(t,e,n){"use strict";n.r(e);var c=n(177),o=n(275),r=n(194),l=n(269),d=n(175),_=n(86),v=n(279),h=n(645),m=(n(14),n(87),n(6),n(108),n(38),n(15)),x=n(21),f=n(288),y={props:["assets","search","_pagination"],data:function(){return{pagination:{},element_permissions:{assign_btn:[{resource:m.a.ASSET,action:x.a.ASSIGN}],unassign_btn:[{resource:m.a.ASSET,action:x.a.UNASSIGN}],dispose_btn:[{resource:m.a.ASSET,action:x.a.DISPOSE}]}}},methods:{can:function(t){return Object(f.a)(this.$auth.user,t)},showDetail:function(t){this.$router.push({path:"/inventory/".concat(t.id,"/edit")})},binCard:function(t){this.$router.push({path:"/inventory/".concat(t.id,"/binCard")})}}},C=n(60),component=Object(C.a)(y,(function(){var t=this,e=t._self._c;return e(h.a,{staticClass:"blue-grey lighten-5",attrs:{responsive:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{staticClass:"blue lighten-1 white--text"},[e("th",{staticClass:"text-center"},[t._v("#")]),t._v(" "),e("th",{staticClass:"text-center white--text",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Tag Number")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"150px"}},[e("b",[t._v("Acquisition Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Asset Type")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Item")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Description")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Assignee")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Serial/ Vin No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Accessories")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"150px"}},[e("b",[t._v("Acquisition Cost")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Currency")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Depreciation Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Acquisition Type")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Purchase Order No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v(" Project ")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("GSRN No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Receipt Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Donor")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Project")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Physical Location")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Cost Center")])])])]),t._v(" "),e("tbody",t._l(t.assets,(function(n){var h,m,x,f,y,C,w,S;return e("tr",{key:n.ID,class:{"red lighten-5":n.disposed}},[e("td",[e(v.a,{attrs:{transition:"slide-x-transition",bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(c.a,t._g(t._b({attrs:{icon:""}},"v-btn",l,!1),o),[e(r.a,[t._v("mdi-menu")])],1)]}}],null,!0)},[t._v(" "),e(l.a,{staticClass:"col-12 px-0"},[e(d.a,{on:{click:function(e){return t.$emit("on-asset-detail-clicked",n)}}},[e(r.a,{staticClass:"text-sm",attrs:{left:""}},[t._v("mdi-eye")]),t._v(" "),e(_.d,{staticClass:"pr-5"},[t._v("detail")])],1),t._v(" "),!n.disposed&&t.can(t.element_permissions.dispose_btn)?e(d.a,{staticClass:"red lighten-3",on:{click:function(e){return t.$emit("on-dispose-asset-clicked",n)}}},[e(r.a,{staticClass:"text-sm",attrs:{left:""}},[t._v("mdi-delete")]),t._v(" "),e(_.d,[t._v("Dispose")])],1):t._e()],1)],1)],1),t._v(" "),e("td",{staticClass:"text-center"},[e("a",{on:{click:function(e){return t.$emit("on-asset-detail-clicked",n)}}},[t._v(t._s(n.tag_number))])]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.acquisition_date))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.asset_type))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.item_name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.description))]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[null!=n&&n.assetCustodians&&null!=n&&n.assetCustodians.some((function(t){return!t.returned}))?e("div",[e(o.a,[e(r.a,{staticClass:"mr-1",staticStyle:{"font-size":"1.5em"}},[t._v("mdi-account")]),t._v("\n              "+t._s(null==n||null===(h=n.assetCustodians)||void 0===h||null===(h=h.find((function(t){return!t.returned})))||void 0===h||null===(h=h.staff)||void 0===h?void 0:h.name)+"\n              "),t.can(t.element_permissions.unassign_btn)?e(c.a,{attrs:{icon:""},on:{click:function(e){return t.$emit("on-delete-asset-assignee-clicked",n)}}},[e(r.a,{attrs:{color:"red"}},[t._v("mdi-delete")])],1):t._e()],1)],1):t.can(t.element_permissions.assign_btn)?e("div",[n.assigned?e(c.a,{staticClass:"primary",attrs:{icon:""}},[e(r.a,{staticClass:"white--text"},[t._v("mdi-question")])],1):e(c.a,{staticClass:"primary",attrs:{icon:""},on:{click:function(e){return t.$emit("on-assign-asset-clicked",n)}}},[e(r.a,{staticClass:"white--text"},[t._v("mdi-plus")])],1)],1):e("div",[e(o.a,[e(r.a,{staticClass:"mr-1",staticStyle:{"font-size":"1.1em"}},[t._v("mdi-help")]),t._v("\n              Not Assigned\n            ")],1)],1)]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.serial_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.accessories))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.acquisition_cost))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(m=n.currency)||void 0===m?void 0:m.code))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.depreciation_date))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(x=n.acquisitionType)||void 0===x?void 0:x.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.purchase_order_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(f=n.project)||void 0===f?void 0:f.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.gsrn_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.receipt_date))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(y=n.donor)||void 0===y?void 0:y.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(C=n.project)||void 0===C?void 0:C.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(w=n.programArea)||void 0===w?void 0:w.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(S=n.costCenter)||void 0===S?void 0:S.name))])])})),0)]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports},664:function(t,e,n){"use strict";n.r(e);var c=n(653),o=n(276),r=n(231),l=n(695),d=n(273),_=n(696),v=n(194),h=n(786),m=n(609),x=n(624),f=(n(13),n(14),n(12),n(6),n(16),n(10),n(17),n(1)),y=(n(71),n(106)),C=n(288),w=n(15),S=n(21),D=n(655);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(f.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var A={props:["_assetCustodian","asset"],middleware:["authenticated"],data:function(){return{valid:!1,editMode:!1,assetCustodian:{},fieldRequiredRule:[function(t){return!!t||"This field is required"}],element_permissions:{edit_btn:[{resource:w.a.ASSET_CUSTODIAN,action:S.a.UPDATE}]},staffs:[]}},apollo:{staffs:{query:n(650).a,fetchPolicy:"cache-and-network",update:function(data){return data.staffs.map((function(t){return t.id=parseInt(t.id),t}))}}},computed:{disableForm:function(){var t;return!this.editMode&&null!=(null===(t=this._assetCustodian)||void 0===t?void 0:t.id)}},methods:O(O({},Object(y.b)({successNotification:"successNotification",errorNotification:"errorNotification",infoNotification:"infoNotification"})),{},{can:function(t){return Object(C.a)(this.$auth.user,t)},onFormSubmitted:function(t){this.$refs.form.validate()&&(this.editMode?this.updateAssetCustodian(t):this.registerAssetCustodian(t))},registerAssetCustodian:function(t){var e=this;this.assetCustodian.asset_id=this.asset.id,this.$apollo.mutate({mutation:D.b,variables:{input:this.assetCustodian}}).then((function(n){n.data;e.successNotification("Asset custodian registered successfully!"),t.target.reset(),e.$emit("on-close-asset-custodian-form")})).catch((function(t){console.log(t)}))},updateAssetCustodian:function(t){var e=this;this.assetCustodian.id=parseInt(this.assetCustodian.id),this.$apollo.mutate({mutation:D.d,variables:{input:this.assetCustodian}}).then((function(n){n.data;e.successNotification("Asset custodian updated successfully!"),t.target.reset(),e.$emit("on-close-asset-custodian-form")})).catch((function(t){console.log(t)}))}}),watch:{$props:{handler:function(){var t;null!==(t=this._AssetCustodian)&&void 0!==t&&t.id?(this.editMode=!1,this.assetCustodian=O({},this._AssetCustodian)):(this.editMode=!1,this.assetCustodian={})},deep:!0,immediate:!0}}},j=n(60),component=Object(j.a)(A,(function(){var t=this,e=t._self._c;return e(o.a,[e("div",{staticClass:"blue lighten-1 white--text pa-2 pb-6"},[e(h.a,{staticClass:"mx-0"},[e("div",[e(r.c,{staticClass:"text-h5 pb-0"},[t._v("\n          Asset Custodian Registration Form\n        ")]),t._v(" "),e("span",{staticClass:"ml-4"},[t._v("registration form")])],1),t._v(" "),e(m.a),t._v(" "),t.disableForm&&t.can(t.element_permissions.edit_btn)?e("button",{staticClass:"v-btn ma-5 mt-6 v-btn--is-elevated v-btn--has-bg theme--light pl-1 black v-size--default white--text",attrs:{icon:"mdi-pen"},on:{click:function(e){t.editMode=!0}}},[e(v.a,{attrs:{right:"",dark:"",medium:""}},[t._v(" mdi-pen ")]),t._v(" "),e("span",{staticClass:"v-btn__content text-white ml-1"},[t._v(" Edit ")])],1):t._e()],1)],1),t._v(" "),e(_.a,{ref:"form",staticClass:"mt-4 pa-4",attrs:{disabled:t.disableForm},on:{submit:function(e){return e.preventDefault(),t.onFormSubmitted.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("div",{staticClass:"mx-5"},[e(h.a,{staticClass:"px-3"},[e(l.a,{staticClass:"py-0",attrs:{cols:"12",md:"9"}},[e(c.a,{attrs:{items:t.staffs,"item-value":"id","item-text":"name",label:"Select Staff *",outlined:"",required:"",rules:t.fieldRequiredRule},model:{value:t.assetCustodian.staff_id,callback:function(e){t.$set(t.assetCustodian,"staff_id",t._n(e))},expression:"assetCustodian.staff_id"}})],1),t._v(" "),e(l.a,{attrs:{cols:"12",md:"12"}},[e(x.a,{attrs:{label:"Description",outlined:"",required:""},model:{value:t.assetCustodian.remark,callback:function(e){t.$set(t.assetCustodian,"remark",e)},expression:"assetCustodian.remark"}})],1)],1)],1),t._v(" "),e(d.a,{staticClass:"my-2"}),t._v(" "),e(l.a,{staticClass:"d-flex"},[e("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default grey lighten-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("on-close-asset-custodian-form")}}},[e("span",{staticClass:"v-btn__content text-white"},[t._v(" Cancel ")])]),t._v(" "),e(m.a),t._v(" "),t.editMode||t.disableForm?t._e():e("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default white--text",staticStyle:{background:"#262b40"},attrs:{type:"submit"}},[e("span",{staticClass:"v-btn__content text-white"},[t._v(" Add Custodian Reason ")])]),t._v(" "),t.editMode&&!t.disableForm?e("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg theme--light v-size--default white--text",staticStyle:{background:"#262b40"},attrs:{type:"submit"}},[e("span",{staticClass:"v-btn__content text-white"},[t._v("\n          Update Custodian Reason\n        ")])]):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},673:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return m}));var c,o,r,l,d=n(92),_=n(61),v=Object(_.a)(c||(c=Object(d.a)(["\n  query($page: Int!, $per_page: Int!, $condition_id: ID, $asset_id: ID, $search: String, $project_id: ID) {\n    assetPhysicalChecks(first: $per_page, page: $page, condition_id: $condition_id, search: $search, asset_id: $asset_id, project_id: $project_id) {\n      data {  \n        id\n        created_at\n        checked_at\n        remark\n        asset {\n          id\n          tag_number\n          asset_type\n          item_name\n          acquisition_date\n          serial_no\n          description\n          accessories\n          acquisition_cost\n          purchase_order_no\n          gsrn_no\n          receipt_date\n          depreciation_date\n          po_no\n          cost_center\n          document_no\n          disposed\n          assetCustodians {\n            id\n            returned\n            staff {\n              id\n              name\n            }\n          }\n          acquisitionType {\n            id\n            name\n          }\n          programArea {\n            id\n            name\n          }\n          donor {\n            id\n            name\n          } \n          currency {\n            id\n            code\n          }\n          costCenter {\n            id\n            name\n          } \n          project {\n            id\n            name\n          }\n        }\n        condition {\n          id\n          name\n        }\n        checkedBy {\n          id\n          name\n        }\n      }\n      paginatorInfo {\n        count\n        currentPage\n        total\n        lastPage\n        perPage\n      }\n    }   \n  }\n"]))),h=Object(_.a)(o||(o=Object(d.a)(["\n  mutation ($input: AssetPhysicalCheckCreateInput!) {\n    createAssetPhysicalCheck(input: $input) {\n      id\n    }\n  }\n"]))),m=Object(_.a)(r||(r=Object(d.a)(["\n  mutation ($input: AssetPhysicalCheckUpdateInput!) {\n    updateAssetPhysicalCheck(input: $input) {\n      id\n    }\n  }\n"])));Object(_.a)(l||(l=Object(d.a)(["\n  mutation($id: ID!) {\n    deleteAssetPhysicalCheck(id: $id) {\n      id\n    }\n  }\n"])))},691:function(t,e,n){"use strict";n.r(e);var c=n(177),o=n(275),r=n(194),l=n(269),d=n(175),_=n(86),v=n(279),h=n(645),m=(n(14),n(87),n(6),n(108),n(38),n(15)),x=n(21),f=n(288),y={props:["assets","search","_pagination"],data:function(){return{pagination:{},element_permissions:{assign_btn:[{resource:m.a.ASSET,action:x.a.ASSIGN}],unassign_btn:[{resource:m.a.ASSET,action:x.a.UNASSIGN}],dispose_btn:[{resource:m.a.ASSET,action:x.a.DISPOSE}]}}},methods:{can:function(t){return Object(f.a)(this.$auth.user,t)},showDetail:function(t){this.$router.push({path:"/inventory/".concat(t.id,"/edit")})},binCard:function(t){this.$router.push({path:"/inventory/".concat(t.id,"/binCard")})}}},C=n(60),component=Object(C.a)(y,(function(){var t=this,e=t._self._c;return e(h.a,{staticClass:"blue-grey lighten-5",attrs:{responsive:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{staticClass:"blue lighten-1 white--text"},[e("th",{staticClass:"text-center"},[t._v("#")]),t._v(" "),e("th",{staticClass:"text-center white--text",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Tag Number")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"150px"}},[e("b",[t._v("Acquisition Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Asset Type")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Item")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Description")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Assignee")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Serial/ Vin No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Accessories")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"150px"}},[e("b",[t._v("Acquisition Cost")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Currency")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Depreciation Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Acquisition Type")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Purchase Order No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v(" Project ")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("GSRN No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Receipt Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Donor")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Physical Location")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Disposed Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Transfer To")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Accumulated Depreciation")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Replacement Cost")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Disposal Type")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Disposal Reason")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Remark")])])])]),t._v(" "),e("tbody",t._l(t.assets,(function(n){var h,m,x,f,y,C,w,S,D,k,O,A,j,$;return e("tr",{key:n.ID},[e("td",[e(v.a,{attrs:{transition:"slide-x-transition",bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(c.a,t._g(t._b({attrs:{icon:""}},"v-btn",l,!1),o),[e(r.a,[t._v("mdi-menu")])],1)]}}],null,!0)},[t._v(" "),e(l.a,{staticClass:"col-12 px-0"},[e(d.a,{on:{click:function(e){return t.$emit("on-asset-detail-clicked",n)}}},[e(r.a,{staticClass:"text-sm",attrs:{left:""}},[t._v("mdi-eye")]),t._v(" "),e(_.d,{staticClass:"pr-5"},[t._v("detail")])],1),t._v(" "),!n.disposed&&t.can(t.element_permissions.dispose_btn)?e(d.a,{staticClass:"red lighten-3",on:{click:function(e){return t.$emit("on-dispose-asset-clicked",n)}}},[e(r.a,{staticClass:"text-sm",attrs:{left:""}},[t._v("mdi-delete")]),t._v(" "),e(_.d,[t._v("Dispose")])],1):t._e()],1)],1)],1),t._v(" "),e("td",{staticClass:"text-center"},[e("a",{on:{click:function(e){return t.$emit("on-asset-detail-clicked",n)}}},[t._v(t._s(n.tag_number))])]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.acquisition_date))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.asset_type))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.item_name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.description))]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[null!=n&&n.assetCustodians&&null!=n&&n.assetCustodians.some((function(t){return!t.returned}))?e("div",[e(o.a,[e(r.a,{staticClass:"mr-1",staticStyle:{"font-size":"1.5em"}},[t._v("mdi-account")]),t._v("\n              "+t._s(null==n||null===(h=n.assetCustodians)||void 0===h||null===(h=h.find((function(t){return!t.returned})))||void 0===h||null===(h=h.staff)||void 0===h?void 0:h.name)+"\n              "),t.can(t.element_permissions.unassign_btn)?e(c.a,{attrs:{icon:""},on:{click:function(e){return t.$emit("on-delete-asset-assignee-clicked",n)}}},[e(r.a,{attrs:{color:"red"}},[t._v("mdi-delete")])],1):t._e()],1)],1):t.can(t.element_permissions.assign_btn)?e("div",[n.assigned?e(c.a,{staticClass:"primary",attrs:{icon:""}},[e(r.a,{staticClass:"white--text"},[t._v("mdi-question")])],1):e(c.a,{staticClass:"primary",attrs:{icon:""},on:{click:function(e){return t.$emit("on-assign-asset-clicked",n)}}},[e(r.a,{staticClass:"white--text"},[t._v("mdi-plus")])],1)],1):e("div",[e(o.a,[e(r.a,{staticClass:"mr-1",staticStyle:{"font-size":"1.1em"}},[t._v("mdi-help")]),t._v("\n              Not Assigned\n            ")],1)],1)]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.serial_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.accessories))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.acquisition_cost))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(m=n.currency)||void 0===m?void 0:m.code))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.depreciation_date))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(x=n.acquisitionType)||void 0===x?void 0:x.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.purchase_order_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(f=n.project)||void 0===f?void 0:f.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.gsrn_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(n.receipt_date))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(y=n.donor)||void 0===y?void 0:y.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(C=n.programArea)||void 0===C?void 0:C.name))]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v(t._s(null==n||null===(w=n.assetDisposal)||void 0===w?void 0:w.date))]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v(t._s(null==n||null===(S=n.assetDisposal)||void 0===S?void 0:S.transfer_to))]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v(t._s(null==n||null===(D=n.assetDisposal)||void 0===D?void 0:D.accumulated_depreciation))]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v(t._s(null==n||null===(k=n.assetDisposal)||void 0===k?void 0:k.replacement_cost)+" "),e("small",[t._v(t._s(null==n||null===(O=n.assetDisposal)||void 0===O||null===(O=O.currency)||void 0===O?void 0:O.code))])]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v(t._s(null==n||null===(A=n.assetDisposal)||void 0===A||null===(A=A.disposalType)||void 0===A?void 0:A.name))]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v(t._s(null==n||null===(j=n.assetDisposal)||void 0===j||null===(j=j.disposalReason)||void 0===j?void 0:j.name))]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v(t._s(null==n||null===($=n.assetDisposal)||void 0===$?void 0:$.remark))])])})),0)]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports},711:function(t,e,n){"use strict";n.r(e);var c=n(275),o=n(194),r=n(645),l=(n(14),n(87),n(6),n(108),n(38),n(15)),d=n(21),_=n(288),v={props:["assetPhysicalChecks","search","_pagination"],data:function(){return{pagination:{},element_permissions:{assign_btn:[{resource:l.a.ASSET,action:d.a.ASSIGN}],unassign_btn:[{resource:l.a.ASSET,action:d.a.UNASSIGN}],dispose_btn:[{resource:l.a.ASSET,action:d.a.DISPOSE}]}}},methods:{can:function(t){return Object(_.a)(this.$auth.user,t)},showDetail:function(t){this.$router.push({path:"/inventory/".concat(t.id,"/edit")})},binCard:function(t){this.$router.push({path:"/inventory/".concat(t.id,"/binCard")})}}},h=n(60),component=Object(h.a)(v,(function(){var t=this,e=t._self._c;return e(r.a,{staticClass:"blue-grey lighten-5",attrs:{responsive:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{staticClass:"blue lighten-1 white--text"},[e("th",{staticClass:"text-center white--text",staticStyle:{"min-width":"140px"}},[e("b",[t._v("Tag Number")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"150px"}},[e("b",[t._v("Acquisition Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Asset Type")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Item")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Description")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Assignee")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Serial/ Vin No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Accessories")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"150px"}},[e("b",[t._v("Acquisition Cost")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Currency")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Depreciation Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Acquisition Type")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Purchase Order No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Project")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("GSRN No")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Receipt Date")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Department/Project")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Donor")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Physical Location")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Cost Center")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Checked At")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Condition")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Checked By")])]),t._v(" "),e("th",{staticClass:"text-center white--text text-uppercase py-2",staticStyle:{"min-width":"120px"}},[e("b",[t._v("Remark")])])])]),t._v(" "),e("tbody",t._l(t.assetPhysicalChecks,(function(n){var r,l,d,_,v,h,m,x,f,y,C;return e("tr",{key:n.id},[e("td",{staticClass:"text-center"},[e("a",{on:{click:function(e){return t.$emit("on-asset-detail-clicked",n)}}},[t._v(t._s(null==n?void 0:n.asset.tag_number))])]),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n          "+t._s(null==n?void 0:n.asset.acquisition_date)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n?void 0:n.asset.asset_type))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n?void 0:n.asset.item_name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n?void 0:n.asset.description))]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[null!=n&&null!==(r=n.asset)&&void 0!==r&&r.assetCustodians&&null!=n&&null!==(l=n.asset)&&void 0!==l&&l.assetCustodians.some((function(t){return!t.returned}))?e("div",[e(c.a,[e(o.a,{staticClass:"mr-1",staticStyle:{"font-size":"1.5em"}},[t._v("mdi-account")]),t._v("\n              "+t._s(null==n||null===(d=n.asset)||void 0===d||null===(d=d.assetCustodians)||void 0===d||null===(d=d.find((function(t){return!t.returned})))||void 0===d||null===(d=d.staff)||void 0===d?void 0:d.name)+"\n            ")],1)],1):e("div",[e(c.a,[e(o.a,{staticClass:"mr-1",staticStyle:{"font-size":"1.1em"}},[t._v("mdi-help")]),t._v("\n              Not Assigned\n            ")],1)],1)]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n?void 0:n.asset.serial_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n?void 0:n.asset.accessories))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n          "+t._s(null==n?void 0:n.asset.acquisition_cost)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n          "+t._s(null==n||null===(_=n.asset)||void 0===_||null===(_=_.currency)||void 0===_?void 0:_.code)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n          "+t._s(null==n?void 0:n.asset.depreciation_date)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n          "+t._s(null==n||null===(v=n.asset)||void 0===v||null===(v=v.acquisitionType)||void 0===v?void 0:v.name)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n          "+t._s(null==n?void 0:n.asset.purchase_order_no)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(h=n.asset)||void 0===h||null===(h=h.project)||void 0===h?void 0:h.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n?void 0:n.asset.gsrn_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n?void 0:n.asset.receipt_date))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n?void 0:n.asset.po_no))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(null==n||null===(m=n.asset)||void 0===m||null===(m=m.donor)||void 0===m?void 0:m.name))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n          "+t._s(null==n||null===(x=n.asset)||void 0===x||null===(x=x.programArea)||void 0===x?void 0:x.name)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n          "+t._s(null==n||null===(f=n.asset)||void 0===f||null===(f=f.costCenter)||void 0===f?void 0:f.name)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v("\n          "+t._s(null==n?void 0:n.checked_at)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v("\n          "+t._s(null==n||null===(y=n.condition)||void 0===y?void 0:y.name)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v("\n          "+t._s(null==n||null===(C=n.checkedBy)||void 0===C?void 0:C.name)+"\n        ")]),t._v(" "),e("td",{staticClass:"text-center red lighten-5"},[t._v("\n          "+t._s(null==n?void 0:n.remark)+"\n        ")])])})),0)]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports},801:function(t,e,n){"use strict";n.r(e);var c=n(653),o=n(626),r=n(177),l=n(276),d=n(695),_=n(612),v=n(194),h=n(649),m=n(609),x=n(124),f=(n(39),n(289),n(13),n(14),n(12),n(6),n(16),n(10),n(17),n(1)),y=(n(35),n(71),n(663)),C=n(654),w=n(21),S=n(288),D=n(15),k=n(662),O=n(664),A=n(295),j=n(691),$=n(673),P=n(711);function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(f.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var R={components:{AssetTable:y.default,AssetDisposalForm:k.default,AssetCustodianForm:O.default,QrCodeScanner:A.default,DisposedAssetTable:j.default,AssetPhysicalCheckTable:P.default},middleware:["authenticated"],data:function(){return{breadcrumbs:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"All Assets",disabled:!0}],assetPhysicalChecks:{paginatorInfo:{}},asset:{},search:{customer_name:"",concrete_type_id:null},element_permissions:{create_btn:[{resource:D.a.ASSET,action:w.a.CREATE}]},loading:!0,pagination:{page:1,per_page:25},disposalFormDialogVisible:!1,custodianFormDialogVisible:!1,qrScanDialogVisible:!1,donors:[],staffs:[],programAreas:[],acquisitionTypes:[],conditions:[]}},apollo:{assetPhysicalChecks:{query:$.a,loadingKey:"loading",variables:function(){var t,e={};return this.search.condition_id&&(e=T(T({},e),{condition_id:this.search.condition_id})),this.search.search&&(e=T(T({},e),{search:"".concat(this.search.search)})),T(T({},e),{page:this.pagination.page,per_page:this.pagination.per_page,disposed:!1,project_id:null===(t=this.$auth)||void 0===t||null===(t=t.user)||void 0===t||null===(t=t.project)||void 0===t?void 0:t.id})},fetchPolicy:"cache-and-network"},lookup:{query:C.c,fetchPolicy:"cache-and-network",update:function(data){return data}}},methods:{can:function(t){return Object(S.a)(this.$auth.user,t)},onAssetDetailClicked:function(t){this.$router.push("/asset/"+t.asset.id+"/detail")},onDisposeAssetClicked:function(t){this.asset=t,this.disposalFormDialogVisible=!0},closeDisposalForm:function(t){this.asset=null,this.disposalFormDialogVisible=!1,this.$apollo.queries.assetPhysicalChecks.refetch()},onAssignAssetClicked:function(t){console.log(t),this.asset=t,this.custodianFormDialogVisible=!0},closeAssetCustodianForm:function(t){this.asset=null,this.custodianFormDialogVisible=!1,this.$apollo.queries.assetPhysicalChecks.refetch()},closeQrCodeScannerDIalog:function(t){this.qrScanDialogVisible=!1,t&&(this.search=T(T({},this.search),{},{search:t}))},exportReport:function(){var t,e,n,c,o,r,l,d=null;l=this.search.project_id?this.search.project_id:null===(t=this.$auth)||void 0===t||null===(t=t.user)||void 0===t||null===(t=t.project)||void 0===t?void 0:t.id,this.search.staff_id&&(d=this.search.staff_id),window.open("http://196.189.187.217/asset-physical-check-report?search=\n        ".concat(null!==(e=this.search.search)&&void 0!==e?e:"","&staff_id=").concat(null!==(n=d)&&void 0!==n?n:"","&project_id=").concat(null!==(c=l)&&void 0!==c?c:"","&stock_type_id=").concat(null!==(o=this.search.stock_type_id)&&void 0!==o?o:"","&donor_id=").concat(null!==(r=this.search.donor_id)&&void 0!==r?r:""),"_blank")}},watch:{lookup:{handler:function(){this.lookup&&(this.donors=this.lookup.donors.map((function(t){return t.id=parseInt(t.id),t})),this.staffs=this.lookup.staffs.map((function(t){return t.id=parseInt(t.id),t})),this.acquisitionTypes=this.lookup.acquisitionTypes.map((function(t){return t.id=parseInt(t.id),t})),this.programAreas=this.lookup.programAreas.map((function(t){return t.id=parseInt(t.id),t})),this.conditions=this.lookup.conditions.map((function(t){return t.id=parseInt(t.id),t})))}}}},N=n(60),component=Object(N.a)(R,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pa-5 grey lighten-3"},[e(o.a,{attrs:{assetPhysicalChecks:t.breadcrumbs},scopedSlots:t._u([{key:"divider",fn:function(){return[e(v.a,[t._v("mdi-chevron-double-right")])]},proxy:!0}])}),t._v(" "),e("div",{staticClass:"px-4 row ma-1"},[t._m(0),t._v(" "),e(m.a),t._v(" "),e("div",{staticClass:"pr-2"},[e(r.a,{staticClass:"blue-grey darken-3 white--text mt-7 mr-4 py-3",on:{click:t.exportReport}},[e(v.a,{attrs:{left:""}},[t._v("mdi-printer")]),t._v("\n        Export\n      ")],1),t._v(" "),e(r.a,{staticClass:"blue-grey darken-3 white--text mt-7 mr-4 py-3",on:{click:function(e){t.qrScanDialogVisible=!0}}},[e(v.a,{attrs:{left:""}},[t._v("mdi-barcode")]),t._v("\n        SCAN")],1)],1)],1),t._v(" "),e("div",{staticClass:"px-5 py-3 mt-5"},[e("div",{staticClass:"row mb-4"},[e(d.a,{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[e(x.a,{staticClass:"py-0",attrs:{dense:"",label:"Start Typing To Search",outlined:"",required:""},model:{value:t.search.search,callback:function(e){t.$set(t.search,"search",e)},expression:"search.search"}})],1),t._v(" "),e(d.a,{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[e(c.a,{attrs:{dense:"",clearable:"",items:t.conditions,"item-value":"id","item-text":"name",label:"Select Asset Condition",outlined:""},model:{value:t.search.condition_id,callback:function(e){t.$set(t.search,"condition_id",t._n(e))},expression:"search.condition_id"}})],1)],1),t._v(" "),e(l.a,{staticClass:"mt-0"},[e("asset-physical-check-table",{attrs:{loading:t.loading,assetPhysicalChecks:t.assetPhysicalChecks.data,_pagination:t.assetPhysicalChecks.paginatorInfo},on:{"on-asset-detail-clicked":t.onAssetDetailClicked}})],1),t._v(" "),e(h.a,{staticClass:"my-4",attrs:{length:t.assetPhysicalChecks.paginatorInfo.lastPage},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1),t._v(" "),e(_.a,{attrs:{width:"auto"},on:{"click:outside":t.closeQrCodeScannerDIalog},model:{value:t.qrScanDialogVisible,callback:function(e){t.qrScanDialogVisible=e},expression:"qrScanDialogVisible"}},[e("qr-code-scanner",{on:{"on-close-qr-code-scanner":t.closeQrCodeScannerDIalog}})],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"ma-0 text-lg transition-swing text-h4"},[t._v("\n        All Available Assets\n      ")]),t._v(" "),e("span",{staticClass:"grey--text text--darken-1"},[t._v("All available Assets Are Shown Here.")])])}],!1,null,null,null);e.default=component.exports}}]);